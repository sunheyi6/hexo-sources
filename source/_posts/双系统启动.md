---
title: åŒç³»ç»Ÿå¯åŠ¨
date: 2025-05-05 09:23:44
tags:
categories:
description:
---
è®°å½•ä¸€ä¸‹åŒç³»ç»Ÿæ˜¯å¦‚ä½•è‡ªç”±åˆ‡æ¢çš„
<!-- more -->
1. ç¼–è¾‘grubæ–‡ä»¶
```bash
vim /etc/default/grub
```
2. æ”¹å˜ä»¥ä¸‹ä¸¤ä¸ªå‚æ•°
```bash
GRUB_TIMEOUT=30
GRUB_DISABLE_OS_PROBER=false
```
3. å®‰è£…os-prober
 ```bash
 sudo pacman -S os-prober
 cp /boot/grub/grub.cfg /boot/grub/grub.cfg.bak
 sudo grub-mkconfig -o /boot/grub/grub.cfg
```
4. æŒ‚åœ¨windowsåˆ†åŒº
```bash
sudo mkdir /mnt/efi
sudo mount /dev/nvme0n1p1 /mnt/efi
 sudo grub-mkconfig -o /boot/grub/grub.cfg
```
5. å¦‚æœæ— æ³•é€šå¤©å† è¿‡os-proberæ¥å‘ç°windowsçš„EFIï¼Œå¯ä»¥ç›´æ¥æ‰‹åŠ¨æŒ‡å®š

```bash
 sudo vim /etc/grub.d/40_custom

## ä¸»è¦æ·»åŠ ä»¥ä¸‹å†…å®¹
menuentry "Windows" {
    insmod ntfs
    insmod chain
    search --fs-uuid --set=root <EFIåˆ†åŒº_UUID>
    chainloader /EFI/Microsoft/Boot/bootmgfw.efi
}
## è·å–EFIåˆ†åŒº_UUID    /dev/nvme0n1p1 å°±æ˜¯æˆ‘çš„windowsEFIåˆ†åŒº
sudo blkid /dev/nvme0n1p1
```
6. é‡å¯ï¼Œå°±å¯ä»¥è¿›è¡Œç³»ç»Ÿé€‰æ‹©å†è¿›å…¥äº† ğŸ˜
